class Carousel{constructor(t){this.settings=t;try{this.itemClassName=this.settings.class.itemClassName}catch(t){this.itemClassName="carousel-item"}try{this.displayNo=this.settings.display.number}catch(t){this.displayNo=1}try{this.moveAmount=this.settings.rotation.amount}catch(t){this.moveAmount=1}try{document.documentElement.style.setProperty("--timingFunction",this.settings.rotation.timingFunction)}catch(t){}try{this.duration=this.settings.rotation.duration,document.documentElement.style.setProperty("--duration",this.settings.rotation.duration+"ms")}catch(t){this.duration=500}this.container=document.getElementById(this.settings.id),this.items=this.container.getElementsByClassName(this.itemClassName),console.log(this.container),this.totalItems=this.items.length,this.front=0,this.back=this.displayNo-1,this.elements=[...this.items];try{if(this.settings.buttons.hide){let t=this.container.getElementsByClassName("carousel-button-next");for(let s=0;s<t.length;s++)t[s].style.display="none";t=this.container.getElementsByClassName("carousel-button-prev");for(let s=0;s<t.length;s++)t[s].style.display="none"}}catch(t){}try{if(this.settings.buttons.disableForSingle&&1===this.totalItems){this.duration=0;let t=this.container.getElementsByClassName("carousel-button-next");for(let s=0;s<t.length;s++)t[s].style.display="none";t=this.container.getElementsByClassName("carousel-button-prev");for(let s=0;s<t.length;s++)t[s].style.display="none"}}catch(t){}this.moving=!1;for(let t=0;t<this.displayNo;t++)this.items[t]&&this.items[t].classList.add("active");if(this.displayNo>this.totalItems){console.log([...this.items].map(t=>t.innerText));let t=0;for(let s=0;s<this.displayNo-this.totalItems;s++){let s=this.elements[t].cloneNode(!0);this.container.firstElementChild.appendChild(s),t=this.mod(t+1,this.totalItems)}console.log("added"),console.log([...this.items].map(t=>t.innerText))}let s,e;this.container.style.maxWidth=this.container.clientWidth+"px",this.container.style.width="100%",s=this.settings.nextBtnClass?document.getElementsByClassName(this.settings.nextBtnClass)[0]:document.getElementsByClassName("carousel-button-next")[0],e=this.settings.backBtnClass?document.getElementsByClassName(this.settings.backBtnClass)[0]:document.getElementsByClassName("carousel-button-prev")[0],s&&s.addEventListener("click",()=>{this.moveNext()}),e&&e.addEventListener("click",()=>{this.movePrev()}),this.addRotationEventListeners()}mod(t,s){return(t%s+s)%s}disableInteraction(){this.moving=!0}enableInteraction(){this.moving=!1}moveCarouselLeft(t){if(!this.moving){this.disableInteraction(),this.front=this.mod(this.front+t,this.totalItems),this.back=this.mod(this.back+t,this.totalItems);let s=0;for(let e=0;e<t;e++)s+=this.items[e].offsetWidth;document.documentElement.style.setProperty("--moveAmount","-"+s+"px");let e=this.totalItems-t,i=this.mod(this.front+e,this.totalItems);for(let s=0;s<t;s++){let t=this.elements[i].cloneNode(!0);t.classList.remove("active"),this.container.firstElementChild.appendChild(t),i=this.mod(i+1,this.totalItems)}for(let s=0;s<this.displayNo+t;s++)this.items[s].classList.add("active");for(let t=0;t<this.items.length;t++)this.items[t].classList.add("slide");setTimeout(()=>{for(let t=0;t<this.items.length;t++)this.items[t].classList.remove("slide");for(let s=0;s<t;s++)this.items[0].remove();this.enableInteraction()},this.duration+10)}}moveCarouselRight(t){if(!this.moving){this.disableInteraction(),this.front=this.mod(this.front-t,this.totalItems),this.back=this.mod(this.back-t,this.totalItems);let s=0;for(let e=0;e<t;e++)s+=this.items[e].offsetWidth;document.documentElement.style.setProperty("--moveAmount","-"+s+"px");for(let t=0;t<this.items.length;t++)this.items[t].classList.add("startOffset");let e=this.mod(this.front+t-1,this.totalItems);for(let s=0;s<t;s++){let t=this.elements[e].cloneNode(!0);t.classList.add("startOffset"),this.items[0].parentNode.insertBefore(t,this.items[0]),e=this.mod(e-1,this.totalItems)}for(let s=0;s<this.displayNo+t;s++)this.items[s].classList.add("active");setTimeout(()=>{for(let t=0;t<this.items.length;t++)this.items[t].classList.remove("slide"),this.items[t].classList.remove("startOffset");for(let s=0;s<t;s++)this.items[this.totalItems].remove();this.enableInteraction()},this.duration+10)}}moveNext(){this.moveCarouselRight(this.moveAmount)}movePrev(){this.moveCarouselLeft(this.moveAmount)}addRotationEventListeners(){let t,s,e;try{t=this.settings.display.startOffset}catch(s){t=0}try{s=this.settings.display.duration}catch(t){s=0}try{e="right"===this.settings.display.direction||"left"===this.settings.display.direction?this.settings.display.direction:"right"}catch(t){e="right"}let i=t=>window.setInterval(()=>{this.moveNext()},t),o=t=>window.setInterval(()=>{this.movePrev()},t);console.log(t,s,e),s>0&&e&&("right"===e?setTimeout(()=>{this.rotation=i(s)},t):setTimeout(()=>{this.rotation=o(s)},t))}removeRotationEventListeners(){window.clearInterval(this.rotation)}updateDisplayDuration(t){if(t<0)throw"Duration cannot be negative";return 0===t?(this.duration=0,this.removeRotationEventListeners()):0===this.duration&&(this.duration=t,this.addRotationEventListeners()),!0}}