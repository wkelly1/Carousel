class Carousel{constructor(t){this._settings=t;try{this._itemClassName=this._settings.class.itemClassName}catch(t){this._itemClassName="carousel-item"}try{this._displayNo=this._settings.display.number}catch(t){this._displayNo=1}try{this._moveAmount=this._settings.rotation.amount}catch(t){this._moveAmount=1}try{document.documentElement.style.setProperty("--timingFunction",this._settings.rotation.timingFunction)}catch(t){}try{this._duration=this._settings.rotation.duration,document.documentElement.style.setProperty("--duration",this._duration+"ms")}catch(t){this._duration=500}this._container=document.getElementById(this._settings.id),this._items=this._container.getElementsByClassName(this._itemClassName),this._totalItems=this._items.length,this._front=0,this._back=this._displayNo-1,this._elements=[...this._items];try{if(this._settings.buttons.hide){let t=this._container.getElementsByClassName("carousel-button-next");for(let s=0;s<t.length;s++)t[s].style.display="none";t=this._container.getElementsByClassName("carousel-button-prev");for(let s=0;s<t.length;s++)t[s].style.display="none"}}catch(t){}try{if(this._settings.buttons.disableForSingle&&1===this._totalItems){this._duration=0;let t=this._container.getElementsByClassName("carousel-button-next");for(let s=0;s<t.length;s++)t[s].style.display="none";t=this._container.getElementsByClassName("carousel-button-prev");for(let s=0;s<t.length;s++)t[s].style.display="none"}}catch(t){}this._moving=!1;for(let t=0;t<this._displayNo;t++)this._items[t]&&this._items[t].classList.add("active");if(this._displayNo>this._totalItems){let t=0;for(let s=0;s<this._displayNo-this._totalItems;s++){let s=this._elements[t].cloneNode(!0);this._container.firstElementChild.appendChild(s),t=this._mod(t+1,this._totalItems)}}let s,e;this._container.style.maxWidth=this._container.clientWidth+"px",this._container.style.width="100%",s=this._settings.nextBtnClass?document.getElementsByClassName(this._settings.nextBtnClass)[0]:document.getElementsByClassName("carousel-button-next")[0],e=this._settings.backBtnClass?document.getElementsByClassName(this._settings.backBtnClass)[0]:document.getElementsByClassName("carousel-button-prev")[0],s&&s.addEventListener("click",()=>{this._moveNext()}),e&&e.addEventListener("click",()=>{this._movePrev()});try{this._offset=this._settings.display.startOffset}catch(t){this._offset=0}try{"right"===this._settings.display.direction||"left"===this._settings.display.direction?this._direction=this._settings.display.direction:this._direction="right"}catch(t){this._direction="right"}this._initializeSettings(this._settings),this._addRotationEventListeners()}_initializeSettings(t){}_mod(t,s){return(t%s+s)%s}_disableInteraction(){this._moving=!0}_enableInteraction(){this._moving=!1}_moveCarouselLeft(t){if(!this._moving){this._disableInteraction(),this._front=this._mod(this._front+t,this._totalItems),this._back=this._mod(this._back+t,this._totalItems);let s=0;for(let e=0;e<t;e++)s+=this._items[e].offsetWidth;document.documentElement.style.setProperty("--moveAmount","-"+s+"px");let e=this._totalItems-t,i=this._mod(this._front+e,this._totalItems);for(let s=0;s<t;s++){let t=this._elements[i].cloneNode(!0);t.classList.remove("active"),this._container.firstElementChild.appendChild(t),i=this._mod(i+1,this._totalItems)}for(let s=0;s<this._displayNo+t;s++)this._items[s].classList.add("active");for(let t=0;t<this._items.length;t++)this._items[t].classList.add("slide");setTimeout(()=>{for(let t=0;t<this._items.length;t++)this._items[t].classList.remove("slide");for(let s=0;s<t;s++)this._items[0].remove();this._enableInteraction()},this._duration+10)}}_moveCarouselRight(t){if(!this._moving){this._disableInteraction(),this._front=this._mod(this._front-t,this._totalItems),this._back=this._mod(this._back-t,this._totalItems);let s=0;for(let e=0;e<t;e++)s+=this._items[e].offsetWidth;document.documentElement.style.setProperty("--moveAmount","-"+s+"px"),console.log(s);for(let t=0;t<this._items.length;t++)this._items[t].classList.add("startOffset");let e=this._mod(this._front+t-1,this._totalItems);for(let s=0;s<t;s++){let t=this._elements[e].cloneNode(!0);t.classList.add("startOffset"),this._items[0].parentNode.insertBefore(t,this._items[0]),e=this._mod(e-1,this._totalItems)}for(let s=0;s<this._displayNo+t;s++)this._items[s].classList.add("active");console.log(this._duration),setTimeout(()=>{for(let t=0;t<this._items.length;t++)this._items[t].classList.remove("slide"),this._items[t].classList.remove("startOffset");for(let s=0;s<t;s++)this._items[this._totalItems].remove();this._enableInteraction()},this._duration+10)}}_moveNext(){this._moveCarouselRight(this._moveAmount)}_movePrev(){this._moveCarouselLeft(this._moveAmount)}_addRotationEventListeners(){let t=t=>window.setInterval(()=>{this._moveNext()},t),s=t=>window.setInterval(()=>{this._movePrev()},t);console.log(this._duration,this._direction,this._offset),this._duration>0&&this._direction&&("right"===this._direction?setTimeout(()=>{this._rotation=t(this._duration)},this._offset):setTimeout(()=>{this._rotation=s(this._duration)},this._offset))}_removeRotationEventListeners(){window.clearInterval(this._rotation)}_updateDisplayDuration(t){if(t<0)throw"Duration cannot be negative";return 0===t?(this._duration=0,this._removeRotationEventListeners()):0===this._duration&&(this._duration=t,this._addRotationEventListeners()),!0}}